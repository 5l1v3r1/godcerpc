package ndr64

import (
	"bytes"

	"testing"
)

func TestEncodeWcharString(t *testing.T) {
	gotBytes := EncodeWcharString("localhost")
	wantBytes := []byte{0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x6C, 0x00, 0x6F, 0x00, 0x63, 0x00, 0x61, 0x00, 0x6C, 0x00, 0x68, 0x00, 0x6F, 0x00, 0x73, 0x00, 0x74, 0x00, 0x00, 0x00}
	if bytes.Compare(wantBytes, gotBytes) != 0 {
		t.Fail()
	}
}

func TestEncodeStruct(t *testing.T) {
	thinger := struct {
		lol    uint16
		loller string
	}{
		uint16(1234),
		"yolo",
	}
	EncodeStruct(thinger)
}
